function e(e,t,n){e.addEventListener("message",function(r){var o=r.data,a=o.id;if("RPC"===o.type&&null!=a)if(o.method){var s=t[o.method];null==s?e.postMessage({type:"RPC",id:a,error:"NO_SUCH_METHOD"}):Promise.resolve().then(function(){return s.apply(null,o.params)}).then(function(t){e.postMessage({type:"RPC",id:a,result:t})}).catch(function(t){e.postMessage({type:"RPC",id:a,error:""+t})})}else{var i=n[a];if(null==i)throw Error("Unknown callback "+a);delete n[a],o.error?i[1](Error(o.error)):i[0](o.result)}})}export default function(t,n){var r=this,o={},a="__xpo"+Math.random().toString().substring(2)+"__";"function"==typeof t&&(t="("+Function.prototype.toString.call(t)+")("+a+")"),t=function(e,t,n){return e=(e=e.replace(/^(\s*)export\s+default\s+/m,function(e,r){return n.default=!0,""+r+t+".default="})).replace(/^(\s*)export\s+((?:async\s*)?function(?:\s*\*)?|const|let|var)(\s+)([a-zA-Z$_][a-zA-Z0-9$_]*)/gm,function(e,r,o,a,s){return n[s]=!0,""+r+t+"."+s+"="+o+a+s}),"var "+t+"={};\n"+e+"\n"+t+";"}(t,a,o)+"\n("+Function.prototype.toString.call(e)+")(self,"+a+",{})";var s,i=URL.createObjectURL(new Blob([t])),l=new Worker(i,n),c=l.terminate,u={},p=0;for(s in l.kill=function(e){l.postMessage({type:"KILL",signal:e}),setTimeout(l.terminate)},l.terminate=function(){URL.revokeObjectURL(i),c.call(r)},l.call=function(e,t){return new Promise(function(n,r){var o="rpc"+ ++p;u[o]=[n,r],l.postMessage({type:"RPC",id:o,method:e,params:t})})},l.rpcMethods={},e(l,l.rpcMethods,u),l.expose=function(e){l[s]=function(){return l.call(e,[].slice.call(arguments))}},o)s in l||l.expose(s);return l};
//# sourceMappingURL=workerize.m.js.map
